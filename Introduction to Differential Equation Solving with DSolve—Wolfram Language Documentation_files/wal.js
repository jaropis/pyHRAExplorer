!function(){function a(a,e,f,g){function m(){n(1*new Date,arguments[0])}function n(a,b){try{var c=JSON.parse(JSON.stringify(Array.prototype.slice.call(b)))}catch(a){return}switch(c[0]){case"queue":h.setQueued(c[1]);break;case"batch":h.setBatched(c[1]);break;case"flush":h.flushQueue();break;case"log":c.shift(),i.log(a,c.shift(),c);break;case"addListener":j.addListener(c[1],c[2]);break;case"removeListener":j.removeListener(c[1],c[2].key)}}for(var h=new b(f,g),i=new c(h),j=new d(h),k=a.length,l=0;l<k;l++)n(e,a[l]);a.push=m}function b(a,b){function h(a,b,e){try{var f=c+"/wal.png?";if(f+="v="+encodeURIComponent(d),f+="&t="+encodeURIComponent(a),f+="&e="+encodeURIComponent(b),f+="&d="+encodeURIComponent(JSON.stringify(e)),!navigator.sendBeacon||!navigator.sendBeacon(f,null)){var g=new Image;g.src=f}}catch(a){}}var c=a,d=b,e=!1,f=!1,g=[];this.setQueued=function(a){"boolean"==typeof a&&(e=a,e||this.flushQueue())},this.setBatched=function(a){"boolean"==typeof a&&(f=a)},this.log=function(a,b,c){if(e)if(f){var d=g.length-1;d>=0&&"wal_batch"===g[d].e?g[d].d.push({t:a,e:b,d:c}):g.push({t:a,e:"wal_batch",d:[{t:a,e:b,d:c}]})}else g.push({t:a,e:b,d:c});else h(a,b,c)},this.flushQueue=function(){var a=g.slice();g.length=0;for(var b=0;b<a.length;b++)h(a[b].t,a[b].e,a[b].d)}}function c(a){function c(a){var c={};c.color=window.screen.colorDepth,c.screenW=window.screen.availWidth,c.screenH=window.screen.availHeight,c.cookies=window.navigator.cookieEnabled,c.lang=window.navigator.language,c.concurrency=window.navigator.hardwareConcurrency,b.log(a,"wal_usermeta",c)}function d(a,c){var d=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,e=d.test(c);e&&b.log(a,"wal_wlogin",{id:c})}function e(a,c,d){"string"==typeof c&&0!=c.indexOf("wal_")&&b.log(a,c,d)}function f(a,c){var d=window.location.href,e=document.title,f=document.referrer;"string"==typeof c[0]&&(d=c[0]),"string"==typeof c[1]&&(e=c[1]),"string"==typeof c[2]&&(f=c[2]),b.log(a,"wal_pageload",{href:d,title:e,refer:f})}var b=a;this.log=function(a,b,g){switch(b){case"pageload":f(a,g);break;case"usermeta":c(a);break;case"event":e(a,g.shift(),g.shift());break;case"wlogin":d(a,g[0])}}}function d(a){function d(a){if(c.hasOwnProperty(a.type))for(var b=0;b<c[a.type].stack.length;b++)if(c[a.type].stack[b].matches(a.target))return}var b=a,c={};this.addListener=function(a,f){var g=new e(a,f,b);if(g.isValid()){c.hasOwnProperty(a)||(c[a]={stack:[],listening:!1});for(var h=0;h<c[a].stack.length;h++)if(c[a].stack[h].getKey()===g.getKey())return;c[a].stack.push(g),c[a].stack.length>0&&c[a].listening===!1&&(c[a].listening=!0,window.addEventListener&&window.addEventListener(a,d,!1))}},this.removeListener=function(a,b){if(c.hasOwnProperty(a))for(var e=0;e<c[a].stack.length;e++)if(c[a].stack[e].getKey()===b)return c[a].stack.splice(e,1),void(0===c[a].stack.length&&(c[a].listening=!1,window.removeEventListener&&window.removeEventListener(a,d,!1)))}}function e(a,b,c){function o(a,b){var c=0;for(var d in a){if(c++,!b.hasOwnProperty(d))return!1;if(!z(a[d],b[d]))return!1}return 0!==c}function p(a){var b={};return a===window?b.el=["window"]:a===document?b.el=["document"]:"undefined"!=typeof a.tagName&&(b.el=[a.tagName.toLowerCase()]),"undefined"!=typeof a.id&&(b.id=[a.id]),"string"==typeof a.className?b.cl=x(a.className):b.cl=[],"undefined"!=typeof a.attributes&&(b.attr=y(a)),b}function q(a,b){if("string"==typeof a&&(d=a,"object"==typeof b&&b.hasOwnProperty("key")&&"string"==typeof b.key)){if(e=b.key,b.hasOwnProperty("levels")){if(!("number"==typeof b.levels&&b.levels%1===0&&b.levels>=0))return;g=b.levels}if(b.hasOwnProperty("is")&&r(h,b.is)&&(!b.hasOwnProperty("not")||r(j,b.not))){if(b.hasOwnProperty("prop")){if(!v(b.prop))return;k=b.prop}if(b.hasOwnProperty("attr")){if(!v(b.attr))return;l=b.attr}b.hasOwnProperty("call")&&!s(b.call)||(f=!0)}}}function r(a,b){var c=["el","id","cl","attr"];if("object"!=typeof b)return!1;for(var d=!1,e=0;e<c.length;e++)if(b.hasOwnProperty(c[e])){if(d=!0,!w(b[c[e]]))return!1;a[c[e]]=b[c[e]]}return d!==!1}function s(a){var b=["before","parser","after"];if("object"!=typeof a)return!1;for(var c=0;c<b.length;c++)if(a.hasOwnProperty(b[c])){if("string"!==a[b[c]]&&""===a[b[c]])return!1;m[b[c]]=a[b[c]]}return!0}function t(a,b,c){for(var f=window,i=a.split("."),n=i.pop(),o=0;o<i.length;o++)f=f[i[o]];try{var p={key:e,levels:g,is:h,not:j,prop:k,attr:l,call:m},p=JSON.parse(JSON.stringify(p))}catch(a){return}var q=[b,c,p,d];return f[n].apply(f,q)}function u(a){for(var b={prop:{},attr:{}},c=0;c<k.length;c++)b.prop[k[c]]=a[k[c]];for(var c=0;c<l.length;c++)b.attr[l[c]]=a.getAttribute(l[c]);return b}function v(a){if(!(a instanceof Array))return!1;if(a.length<1)return!1;for(var b=0;b<a.length;b++)if("string"!=typeof a[b]||""===a[b])return!1;return!0}function w(a){if(!(a instanceof Array))return!1;if(a.length<1)return!1;for(var b=0;b<a.length;b++)if(a[b]instanceof Array){if(!v(a[b]))return!1}else if("string"!=typeof a[b]||""===a[b])return!1;return!0}function x(a){var b=a.trim().split(" "),c=b.length;for(i=0;i<c;i++)""!==b[i]&&b.push(b[i]);return b.splice(0,c),b}function y(a){for(var b=[],c=0;c<a.attributes.length;c++)b[c]=a.attributes[c].nodeName;return b}function z(a,b){for(var c=0;c<a.length;c++)if(a[c]instanceof Array){for(var d=!0,e=0;e<a[c].length;e++)if(b.indexOf(a[c][e])===-1){d=!1;break}if(d)return!0}else if(b.indexOf(a[c])!==-1)return!0;return!1}var d="",e="",f=!1,g=0,h={},j={},k=[],l=[],m={},n=c;q(a,b),this.getType=function(){return d},this.getKey=function(){return e},this.isValid=function(){return f},this.matches=function(a){for(var b=!1,c=a,f=a,i=0;i<=g;i++){var k=p(f);if(o(h,k)&&!o(j,k)){b=!0;break}if(f=f.parentElement,null===f)break}if(b){var l={t:d,k:e,c:!1,href:window.location.href,d:{}};if(m.hasOwnProperty("before")&&t(m.before,c,f),m.hasOwnProperty("parser")){ret.c=!0;var k=t(m.parser,c,f)}else var k=u(f);try{l.d=JSON.parse(JSON.stringify(k))}catch(a){return!1}return n.log(1*new Date,"wal_listener",l),m.hasOwnProperty("after")&&t(m.after,c,f),!0}return!1}}var f=window[window.WolframAnalyticsObject];new a(f.q,f.t,f.d,f.v)}(window);